<!--
  Generated template for the LoginPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!-- <ion-header>

  <ion-navbar>
    <ion-title></ion-title>
  </ion-navbar>

</ion-header> -->


<ion-content no-bounce>
    <div class="dismiss" tappable (click)="dismiss()">{{'CANCEL'|translate}}</div>
    <div class="dismiss right" tappable (click)="goNetWork()">切换网络</div>
    <div class="login-warpper">
        <div class="logo-container">
            <img src="assets/images/login/logo.png" alt="" class="logo">
        </div>
        <form class="login-form-container" [formGroup]="loginForm" (ngSubmit)="login()" novalidate>
            <ion-item class="login-form-item">
                <ion-input formControlName="customerId" #custId class="account" placeholder="{{'MOBILE_PHONE_NUMBER_EMAIL'|translate}}"></ion-input>
            </ion-item>
            <ion-item class="login-form-item">
                <ion-input #pwd formControlName="password"  class="password" type="password" placeholder="{{'PASSWORD'|translate}}">
                </ion-input>
                <div tappable item-right class="view-pwd-wrapper" (touchstart)="showPassword(pwd)" (touchend)="hidePassword(pwd)" style="z-index:9999">
                    <ion-icon name="view-pwd"></ion-icon>
                </div>
            </ion-item>
            <ion-item class="login-form-item code-item" [hidden]='!showCode'>
                <ion-input #code formControlName="code"   type="text" placeholder="{{'PLEASE_INPUT_VERIFICATION_CODE' | translate}}">
                </ion-input>
                <ion-thumbnail item-end style="z-index:9999;">
                    <div tappable  class="view-code" >
                        <img [src]="codeSrc" alt="" style="width: 100%;height: 100%" (click)="getLoginCode()">
                    </div>
                </ion-thumbnail>
            </ion-item>
             
            <!-- <a class="forget-password" navPush="forget-pwd" [navParams]="{customerId:customerId?.value}">{{'FORGET_PASSWORD'|translate}}</a> -->
            <a class="forget-password" (click)='goForgetPwd()'>{{'FORGET_PASSWORD'|translate}}</a>
            <button ion-button class="login-form-submit" type="submit" [disabled]=" !custId.value  || !pwd.value || logining || (showCode&&!code.value)">
        {{'LOGIN'|translate}}
      </button>
            <div class="register-line">
                {{'HAVE_NO_ACCOUNT_YET'|translate}}
                <a class="go-register" (click)="goToRegister()">{{'REGISTER_NOW'|translate}}</a>
            </div>
        </form>
    </div>
</ion-content>